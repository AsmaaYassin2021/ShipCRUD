<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">


<h1 *ngIf="isAddMode">Add Ship</h1>
<h1 *ngIf="!isAddMode">Edit Ship</h1>
<form [formGroup]="shipForm">

    <div class="form-group row">

        <label class="col-form-label text-lg-left">Ship Code:&nbsp;&nbsp;</label>
        <div class="col-lg-5">
            <input class="form-control" rows="5" [readonly]="!isAddMode" style="margin-left: 5px;"
                placeholder="Enter a code  for the new ship." formControlName="code" />

            <span class="text-danger"
                *ngIf="( shipForm.controls['code'].hasError('maxlength')||shipForm.controls['code'].hasError('minlength')) && (shipForm.controls['code'].dirty || shipForm.controls['code'].touched)">
                Code length must not exceed 12 character.
            </span>
            <span class="text-danger"
                *ngIf="shipForm.controls['code'].hasError('required') && (shipForm.controls['code'].dirty || shipForm.controls['code'].touched)">
                Ship code is required.</span>
            <span class="text-danger" *ngIf="shipForm.controls['code'].hasError('repeated') 
                      ">Ship code is used before .</span>
            <span class="text-danger"
                *ngIf="shipForm.controls['code'].hasError('invalidCode') &&(shipForm.controls['code'].dirty || shipForm.controls['code'].touched)">
                Ship code is invalid code.</span>
        </div>
    </div>
    <div class="form-group row">

        <label class="col-form-label text-lg-left">Ship Name:&nbsp;&nbsp;</label>
        <div class="col-lg-5">
            <input class="form-control" rows="5" placeholder="Enter a name  for the new ship." formControlName="name" />

            <span class="text-danger"
                *ngIf="( shipForm.controls['name'].hasError('maxlength')||shipForm.controls['name'].hasError('minlength'))  && (shipForm.controls['name'].dirty || shipForm.controls['name'].touched)">
                Name length must be between 2 and 100 characters.
            </span>
            <span class="text-danger"
                *ngIf="shipForm.controls['name'].hasError('required') && (shipForm.controls['name'].dirty || shipForm.controls['name'].touched)">
                Ship name is required.</span>
            <span class="text-danger" *ngIf="shipForm.controls['name'].hasError('repeated') ">Ship name is used before
                .</span>
        </div>
    </div>



    <div class="form-group row">
        <label class="col-form-label text-lg-left">Ship Width:&nbsp;&nbsp;</label>
        <div class="col-lg-5">
            <input class="form-control" rows="5" type="number" min="0" value="0" step=".01" placeholder="XXX.XX"
                formControlName="shipWidth" />

            <span class="text-danger"
                *ngIf="shipForm.controls['shipWidth'].hasError('required') && (shipForm.controls['shipWidth'].dirty || shipForm.controls['shipWidth'].touched)">
                Ship width is required.</span>
           
            <span class="text-danger"
                *ngIf="shipForm.controls['shipWidth'].hasError('invalidWidth') && (shipForm.controls['shipWidth'].dirty || shipForm.controls['shipWidth'].touched)">
                Ship width min is 15 and  max is 70.</span>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-form-label text-lg-left">Ship Length:</label>
        <div class="col-lg-5">
            <input class="form-control" rows="5" type="text" appFloatNumbers placeholder="XXX.XX"
                formControlName="shipLength" />

            <span class="text-danger"
                *ngIf="shipForm.controls['shipLength'].hasError('required') && (shipForm.controls['shipLength'].dirty || shipForm.controls['shipLength'].touched)">
                Ship length is required.</span>
            <span class="text-danger"
                *ngIf="shipForm.controls['shipLength'].hasError('invalidWidth') && (shipForm.controls['shipLength'].dirty || shipForm.controls['shipLength'].touched)">
                Ship length  min is 50 and max is 400.</span>
        </div>
    </div>

    <!-- <div *ngIf="isErrorFound">
            <div class="text-center"  type="danger" dismissible="true" (onClose)="isErrorFound=false;">{{errorMessage}}</alert>
        </div> -->

    <!-- <div class="mt-3">
            <alert class="text-center" *ngIf="isErrorFound" type="danger" dismissible="true" (onClose)="isErrorFound=false;">{{errorMessage}}</alert>
        </div> -->

    <div class="row" style="margin-left: 80px;">
        <div>
            <button type="button" class="btn btn-labeled btn-info fa fa-plus" (click)="onSubmit()">

                {{ isAddMode ? 'Add' : 'Update' }}

            </button>
        </div>
        <div class="col-4">
            <button type="button" (click)="cancelCreate()" class="btn btn-labeled btn-danger fa fa-undo">
                Cancel
            </button>
        </div>
    </div>

</form>